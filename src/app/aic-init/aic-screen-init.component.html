<div fxLayoutAlign="end">
  <button mat-stroked-button color="primary" (click)="getCameraImg()" [disabled]="processes.getCameraImg">
    <mat-icon>image</mat-icon>
    {{cameraImg ? '刷新' : '加载'}}摄像头画面
  </button>
  <!--<button mat-stroked-button color="primary" (click)="initDraw()" [disabled]="processes.initScreenPosition">
    <mat-icon>fullscreen</mat-icon>
    开始设置
  </button>-->
</div>

<mat-spinner *ngIf="processes.getCameraImg"></mat-spinner>

<div [hidden]="!canvasSetup">
  <div>
    <div class="position-track">{{imagePosition.x}},{{imagePosition.y}}</div>
    <!--<mat-form-field>
      <mat-label>缩放</mat-label>
      <mat-select [(ngModel)]="imageScale" (selectionChange)="drawCanvas()">
        <mat-option [value]="1">1:1</mat-option>
        <mat-option [value]="2">1:2</mat-option>
        <mat-option [value]="3">1:3</mat-option>
        <mat-option [value]="4">1:4</mat-option>
        <mat-option [value]="5">1:4</mat-option>
      </mat-select>
    </mat-form-field>-->
    <mat-label>缩放</mat-label>&nbsp;&nbsp;
    <mat-button-toggle-group name="imageScale" [(ngModel)]="imageScale" (change)="drawCanvas()">
      <mat-button-toggle [value]="1">1:1</mat-button-toggle>
      <mat-button-toggle [value]="2">1:2</mat-button-toggle>
      <mat-button-toggle [value]="3">1:3</mat-button-toggle>
      <mat-button-toggle [value]="4">1:4</mat-button-toggle>
      <mat-button-toggle [value]="5">1:5</mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <div class="init-actions">
    <mat-form-field class="positions-input">
      <input type="text" placeholder="4个点位置" matInput
             [(ngModel)]="positionsStr">
    </mat-form-field>
    <button mat-stroked-button (click)="resetPositions()"
            [disabled]="processes.initScreenPosition">
      <mat-icon>clear</mat-icon>
      重设
    </button>
    <button mat-stroked-button color="primary" (click)="initScreenPosition()"
            [disabled]="processes.initScreenPosition">
      <mat-icon>fullscreen</mat-icon>
      初始化屏幕
    </button>
  </div>

  <canvas id="init-screen-canvas" (click)="canvasDown($event)" (mousemove)="canvasMove($event)" #canvas></canvas>


</div>
